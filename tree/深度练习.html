<!--
 * @Author: leilei405 1601178425@qq.com
 * @Date: 2024-10-23 19:17:40
 * @LastEditors: leilei405 1601178425@qq.com
 * @LastEditTime: 2024-10-23 20:37:57
 * @FilePath: \algorithm\tree\深度练习.html
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const arr = [
        { id: 1, name: "部门A", parentId: 0 },
        { id: 2, name: "部门B", parentId: 1 },
        { id: 3, name: "部门C", parentId: 1 },
        { id: 4, name: "部门D", parentId: 2 },
        { id: 5, name: "部门E", parentId: 2 },
        { id: 6, name: "部门F", parentId: 3 },
      ];

      // 期望输出
      // const output = [
      //   {
      //     id: 1,
      //     name: "部门A",
      //     children: [
      //       {
      //         id: 2,
      //         name: "部门B",
      //         children: [
      //           {
      //             id: 4,
      //             name: "部门D",
      //             children: [],
      //           },
      //           {
      //             id: 5,
      //             name: "部门E",
      //             children: [],
      //           },
      //         ],
      //       },
      //       {
      //         id: 3,
      //         name: "部门C",
      //         children: [
      //           {
      //             id: 6,
      //             name: "部门F",
      //             children,
      //           },
      //         ],
      //       },
      //     ],
      //   },
      // ];

      // 递归的方式进行遍历
      const tree = (arr = [], parentId = 0) => {
        const result = [];

        arr.forEach((item) => {
          if (item.parentId === parentId) {
            // 0 1 2 3 4 5 6
            const children = tree(arr, item.id);
            console.log(children, "=====");

            if (children.length) {
              item.children = children;
            }
            result.push(item);
          }
        });

        return result;
      };

      console.log(tree(arr));
    </script>
  </body>
</html>
